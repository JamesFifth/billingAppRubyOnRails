
<% if @insurances %>
  <h1>Insurances List</h1>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>InsuranceID</th>
        <th>Insurer</th>
        <th>Birth</th>
        <th>SSN</th>
        <th>Start</th>
        <th>End</th>
        <th>Limitation</th>
        <th>Deductible</th>
        <th>Copay</th>
        <th>Company</th>
        <th colspan="1"></th>
      </tr>
    </thead>
    <tbody>
      <% @insurances.each do |insurance| %>
        <tr>
          <td><%= link_to insurance.insurance_id, insurance %></td>
          <td><%= insurance.insured_name %></td>
          <td><%= insurance.insured_birth %></td>
          <td><%= insurance.insured_ssn %></td>
          <td><%= insurance.insurance_start_date %></td>
          <td><%= insurance.insurance_end_date %></td>
          <td><%= insurance.insurance_limitation %></td>
          <td><%= insurance.insurance_deductible %></td>
          <td><%= insurance.insurance_copay_rate %></td>
          <td><%= insurance.insurance_company_name %></td>
          <td><%= link_to 'Destroy', insurance, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <br>
  <%= link_to 'New Insurance', new_insurance_path %>

<% elsif @findinsurancesssn != nil %>
  <div class="alert alert-success" role="alert">
    <h1 class="alert-heading">Found patient!</h1>
    <h2 class="display-6">Insurance with insured ssn : <%= @findinsurancesssn.insured_ssn %></h2>
  </div>
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-6">Insurance information</h1>
      <div class="card-body">
      <p>
        <strong>Insurance Id :</strong>
        <%= @findinsurancesssn.insurance_id %>
      </p>
      <p>
        <strong>Insured name:</strong>
        <%= @findinsurancesssn.insured_name %>
      </p>
      <p>
        <strong>Insured birth:</strong>
        <%= @findinsurancesssn.insured_birth %>
      </p>
      <p>
        <strong>Insured ssn:</strong>
        <%= @findinsurancesssn.insured_ssn %>
      </p>
      <p>
        <strong>Insurance start date:</strong>
        <%= @findinsurancesssn.insurance_start_date %>
      </p>
      <p>
        <strong>Insurance end date:</strong>
        <%= @findinsurancesssn.insurance_end_date %>
      </p>
      <p>
        <strong>Insurance limitation:</strong>
        <%= @findinsurancesssn.insurance_limitation %>
      </p>
      <p>
        <strong>Insurance deductible:</strong>
        <%= @findinsurancesssn.insurance_deductible %>
      </p>
      <p>
        <strong>Insurance copay rate:</strong>
        <%= @findinsurancesssn.insurance_copay_rate %>
      </p>
      <p>
        <strong>Insurance company name:</strong>
        <%= @findinsurancesssn.insurance_company_name %>
      </p>
      <p>
        <strong>Insurance company address:</strong>
        <%= @findinsurancesssn.insurance_company_address %>
      </p>
      <p>
        <strong>Insurance company phone:</strong>
        <%= @findinsurancesssn.insurance_company_phone %>
      </p>
      <p>
        <strong>Insurance company email:</strong>
        <%= @findinsurancesssn.insurance_company_email %>
      </p>
      <p>
        <strong>Insurance company website:</strong>
        <%= @findinsurancesssn.insurance_company_website %>
      </p>
      
      <%= link_to 'compare', checks_compare_path(:ssn => @findinsurancesssn.insured_ssn), class: "btn btn-primary btn-lg" %>
    </div>
  </div>

<% elsif @findinsurancesid != nil %>
  <div class="alert alert-success" role="alert">
    <h1 class="alert-heading">Found patient!</h1>
    <h2 class="display-6">Insurance with insurance id : <%= @findinsurancesid.insurance_id %></h2>
  </div>
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-6">Insurance information</h1>
      <div class="card-body">
      <p>
        <strong>Insurance Id :</strong>
        <%= @findinsurancesid.insurance_id %>
      </p>
      <p>
        <strong>Insured name:</strong>
        <%= @findinsurancesid.insured_name %>
      </p>
      <p>
        <strong>Insured birth:</strong>
        <%= @findinsurancesid.insured_birth %>
      </p>
      <p>
        <strong>Insured ssn:</strong>
        <%= @findinsurancesid.insured_ssn %>
      </p>
      <p>
        <strong>Insurance start date:</strong>
        <%= @findinsurancesid.insurance_start_date %>
      </p>
      <p>
        <strong>Insurance end date:</strong>
        <%= @findinsurancesid.insurance_end_date %>
      </p>
      <p>
        <strong>Insurance limitation:</strong>
        <%= @findinsurancesid.insurance_limitation %>
      </p>
      <p>
        <strong>Insurance deductible:</strong>
        <%= @findinsurancesid.insurance_deductible %>
      </p>
      <p>
        <strong>Insurance copay rate:</strong>
        <%= @findinsurancesid.insurance_copay_rate %>
      </p>
      <p>
        <strong>Insurance company name:</strong>
        <%= @findinsurancesid.insurance_company_name %>
      </p>
      <p>
        <strong>Insurance company address:</strong>
        <%= @findinsurancesid.insurance_company_address %>
      </p>
      <p>
        <strong>Insurance company phone:</strong>
        <%= @findinsurancesid.insurance_company_phone %>
      </p>
      <p>
        <strong>Insurance company email:</strong>
        <%= @findinsurancesid.insurance_company_email %>
      </p>
      <p>
        <strong>Insurance company website:</strong>
        <%= @findinsurancesid.insurance_company_website %>
      </p>
    </div>
  </div>

<% else %>
  <h1>No such patient !</h1>

<% end %>
